(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[582],{7141:(e,a,s)=>{Promise.resolve().then(s.bind(s,9044)),Promise.resolve().then(s.bind(s,6714))},9044:(e,a,s)=>{"use strict";s.d(a,{default:()=>c});var r=s(7437),t=s(2265),i=s(7880),n=s(4379),l=s.n(n);let c=()=>{let[e,a]=(0,t.useState)(!1),[s,n]=(0,t.useState)({name:"",color:"#000000",description:"",intensity:1}),[c,o]=(0,t.useState)(!1),d=()=>a(!e),m=e=>{let{name:a,value:r}=e.target;"intensity"===a?n({...s,[a]:parseInt(r,10)}):n({...s,[a]:r})},u=async e=>{e.preventDefault(),o(!0);let{error:a}=await i.O.from("fragances").insert([s]);a?(console.error("Error saving data:",a.message),alert("Error al guardar los datos. Revisa la consola para m\xe1s detalles.")):(l().fire({title:"\xa1Fragancia a\xf1adida con \xe9xito!",text:"La fragancia ha sido a\xf1adida correctamente.",icon:"success",confirmButtonText:"Aceptar"}),n({name:"",color:"#000000",description:"",intensity:1})),o(!1),d()};return(0,r.jsxs)("div",{className:"flex justify-center items-center ml-2",children:[(0,r.jsx)("button",{onClick:d,className:"bg-blue-500 text-white rounded hover:bg-blue-600 p-3 transition",children:"Crear Fragancia"}),e&&(0,r.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex justify-center items-center z-50",children:(0,r.jsxs)("div",{className:"bg-white p-6 rounded-lg w-[90%] sm:w-[400px]",children:[(0,r.jsx)("h2",{className:"text-xl font-semibold mb-4",children:"Nueva Fragancia"}),(0,r.jsxs)("form",{onSubmit:u,className:"space-y-4",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium mb-1",htmlFor:"name",children:"Nombre"}),(0,r.jsx)("input",{id:"name",name:"name",type:"text",value:s.name,onChange:m,required:!0,className:"w-full border border-gray-300 rounded px-3 py-2"})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium mb-1",htmlFor:"color",children:"Color"}),(0,r.jsx)("input",{id:"color",name:"color",type:"color",value:s.color,onChange:m,required:!0,className:"w-full h-10 p-0 border-none"})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium mb-1",htmlFor:"description",children:"Descripci\xf3n"}),(0,r.jsx)("input",{id:"description",name:"description",type:"text",value:s.description,onChange:m,required:!0,className:"w-full border border-gray-300 rounded px-3 py-2"})]}),(0,r.jsxs)("div",{className:"mb-4",children:[(0,r.jsx)("label",{htmlFor:"intensity",className:"block text-sm font-medium text-gray-700",children:"Intensidad (1-5)"}),(0,r.jsxs)("select",{id:"intensity",name:"intensity",className:"w-full px-4 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-indigo-500",value:s.intensity,onChange:m,children:[(0,r.jsx)("option",{value:1,children:"1"}),(0,r.jsx)("option",{value:2,children:"2"}),(0,r.jsx)("option",{value:3,children:"3"}),(0,r.jsx)("option",{value:4,children:"4"}),(0,r.jsx)("option",{value:5,children:"5"})]})]}),(0,r.jsxs)("div",{className:"flex justify-end space-x-4",children:[(0,r.jsx)("button",{type:"button",onClick:d,className:"px-4 py-2 bg-gray-300 rounded hover:bg-gray-400 transition",children:"Cancelar"}),(0,r.jsx)("button",{type:"submit",disabled:c,className:"px-4 py-2 rounded ".concat(c?"bg-gray-500 cursor-not-allowed":"bg-blue-500 text-white hover:bg-blue-600"," transition"),children:c?"Agregando fragancia...":"A\xf1adir"})]})]})]})})]})}},6714:(e,a,s)=>{"use strict";s.d(a,{default:()=>c});var r=s(7437),t=s(2265),i=s(7880),n=s(4379),l=s.n(n);let c=()=>{let[e,a]=(0,t.useState)([]),[s,n]=(0,t.useState)(!0),c=async()=>{try{n(!0);let{data:e,error:s}=await i.O.from("fragances").select("*");if(s)throw s;a(e)}catch(e){console.error("Error al obtener las fragancias:",e)}finally{n(!1)}};(0,t.useEffect)(()=>{c()},[]);let o=async e=>{try{if((await l().fire({title:"\xbfEst\xe1s seguro?",text:"\xa1Este fragancia se eliminar\xe1 permanentemente!",icon:"warning",showCancelButton:!0,confirmButtonText:"S\xed, eliminar",cancelButtonText:"Cancelar"})).isConfirmed){let{error:a}=await i.O.from("Fragances").delete().eq("id",e);if(a)throw a;l().fire("\xa1Eliminado!","La fragancia ha sido eliminada.","success"),c()}}catch(e){console.error("Error al eliminar la fragancia:",e),l().fire("Error","Hubo un problema al eliminar la fragancia.","error")}};return(0,r.jsx)("div",{className:"p-6 mt-4",children:(0,r.jsx)("div",{className:"mt-6 overflow-x-auto",children:(0,r.jsxs)("div",{className:"w-full border border-gray-300 rounded-lg",children:[(0,r.jsxs)("div",{className:"flex bg-gray-100 p-3",children:[(0,r.jsx)("div",{className:"w-2/6 font-semibold text-center",children:"Nombre"}),(0,r.jsx)("div",{className:"w-2/6 font-semibold text-center",children:"Descripci\xf3n"}),(0,r.jsx)("div",{className:"w-1/6 font-semibold text-center",children:"Intensidad"}),(0,r.jsx)("div",{className:"w-1/6 font-semibold text-center",children:"Color"}),(0,r.jsx)("div",{className:"w-1/6 font-semibold text-center",children:"Acciones"})]}),s?(0,r.jsx)("div",{className:"flex justify-center items-center py-6",children:(0,r.jsx)("span",{children:"Cargando..."})}):e.map(e=>(0,r.jsxs)("div",{className:"flex items-center border-t border-gray-200",children:[(0,r.jsx)("div",{className:"w-2/6 text-center",children:e.name}),(0,r.jsx)("div",{className:"w-2/6 text-center",children:e.description}),(0,r.jsx)("div",{className:"w-1/6 text-center",children:e.intensity}),(0,r.jsx)("div",{className:"w-1/6 text-center",children:(0,r.jsx)("div",{className:"w-8 h-8 rounded-full mx-auto",style:{backgroundColor:e.color}})}),(0,r.jsx)("div",{className:"w-1/6 text-center",children:(0,r.jsx)("button",{onClick:()=>o(e.id),className:"bg-red-500 text-white p-2 rounded-lg ml-2 hover:bg-red-600",children:"Eliminar"})})]},e.id))]})})})}},7880:(e,a,s)=>{"use strict";s.d(a,{O:()=>n});var r=s(4593);let t="https://hngtcilvtlfttimesspf.supabase.co",i="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImhuZ3RjaWx2dGxmdHRpbWVzc3BmIiwicm9sZSI6ImFub24iLCJpYXQiOjE3MzUzMDIyODgsImV4cCI6MjA1MDg3ODI4OH0.QI4AB25s9Uc5t1Oc4C9Lgo0R6n9LmbkNXOfJ4Jfh2gg";if(!t||!i)throw Error("Supabase URL and Key are required");let n=(0,r.eI)(t,i)}},e=>{var a=a=>e(e.s=a);e.O(0,[461,593,130,215,744],()=>a(7141)),_N_E=e.O()}]);