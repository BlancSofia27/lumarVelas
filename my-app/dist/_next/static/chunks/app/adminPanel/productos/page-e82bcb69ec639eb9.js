(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[57],{3575:(e,t,r)=>{Promise.resolve().then(r.bind(r,1290))},1290:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>o});var s=r(7437),i=r(2265),a=r(7880),l=r(6648),c=r(4379),n=r.n(c);let o=()=>{let[e,t]=(0,i.useState)([]),[r,c]=(0,i.useState)(!0),o=async()=>{try{c(!0);let{data:e,error:r}=await a.O.from("products").select("*");if(r)throw r;t(e)}catch(e){console.error("Error al obtener los productos:",e)}finally{c(!1)}};(0,i.useEffect)(()=>{o()},[]);let d=async e=>{try{if((await n().fire({title:"\xbfEst\xe1s seguro?",text:"\xa1Este producto se eliminar\xe1 permanentemente!",icon:"warning",showCancelButton:!0,confirmButtonText:"S\xed, eliminar",cancelButtonText:"Cancelar"})).isConfirmed){let{error:t}=await a.O.from("products").delete().eq("id",e);if(t)throw t;n().fire("\xa1Eliminado!","El producto ha sido eliminado.","success"),o()}}catch(e){console.error("Error al eliminar el producto:",e),n().fire("Error","Hubo un problema al eliminar el producto.","error")}};return(0,s.jsxs)("div",{className:"p-6 mt-4",children:[(0,s.jsx)("div",{className:"flex flex-row",children:(0,s.jsx)("a",{className:"bg-blue-500 text-white p-3 rounded hover:bg-blue-600",href:"newProduct",children:"A\xf1adir Nuevo Producto"})}),(0,s.jsx)("div",{className:"mt-6 overflow-x-auto",children:(0,s.jsxs)("div",{className:"w-full border border-gray-300 rounded-lg",children:[(0,s.jsxs)("div",{className:"flex bg-gray-100 p-3",children:[(0,s.jsx)("div",{className:"w-1/6 font-semibold text-center ml-7",children:"Imagen"}),(0,s.jsx)("div",{className:"w-2/6 font-semibold text-center",children:"Producto"}),(0,s.jsx)("div",{className:"w-2/6 font-semibold text-center",children:"Descripci\xf3n"}),(0,s.jsx)("div",{className:"w-1/6 font-semibold text-center",children:"Precio"}),(0,s.jsx)("div",{className:"w-1/6 font-semibold text-center",children:"Aroma"}),(0,s.jsx)("div",{className:"w-1/6 font-semibold text-center",children:"Acci\xf3n"})]}),r?(0,s.jsx)("div",{className:"flex justify-center items-center py-6",children:(0,s.jsx)("span",{children:"Cargando..."})}):e.map(e=>(0,s.jsxs)("div",{className:"flex items-center border-t border-gray-200",children:[(0,s.jsx)("div",{className:"w-1/6",children:(0,s.jsxs)("div",{className:"relative w-[150px] h-[150px]",children:[(0,s.jsx)(l.default,{src:e.image_url,alt:e.name,width:80,height:80,className:"object-cover w-full h-full transition-opacity duration-600 ease-in-out"}),(0,s.jsx)(l.default,{src:e.image1_url,alt:e.name,width:80,height:80,className:"object-cover w-full h-full absolute top-0 left-0 opacity-0 hover:opacity-100 transition-opacity duration-600 ease-in-out"})]})}),(0,s.jsx)("div",{className:"w-2/6 text-center",children:e.name}),(0,s.jsx)("div",{className:"w-2/6 text-center",children:e.description}),(0,s.jsxs)("div",{className:"w-1/6 text-center",children:["$",e.price]}),(0,s.jsx)("div",{className:"w-1/6 text-center",children:e.fragance}),(0,s.jsx)("div",{className:"w-1/6 text-center",children:(0,s.jsx)("button",{onClick:()=>d(e.id),className:"bg-red-500 text-white p-2 rounded-lg ml-2 hover:bg-red-600",children:"Eliminar"})})]},e.id))]})})]})}},7880:(e,t,r)=>{"use strict";r.d(t,{O:()=>l});var s=r(4593);let i="https://hngtcilvtlfttimesspf.supabase.co",a="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImhuZ3RjaWx2dGxmdHRpbWVzc3BmIiwicm9sZSI6ImFub24iLCJpYXQiOjE3MzUzMDIyODgsImV4cCI6MjA1MDg3ODI4OH0.QI4AB25s9Uc5t1Oc4C9Lgo0R6n9LmbkNXOfJ4Jfh2gg";if(!i||!a)throw Error("Supabase URL and Key are required");let l=(0,s.eI)(i,a)}},e=>{var t=t=>e(e.s=t);e.O(0,[461,648,593,130,215,744],()=>t(3575)),_N_E=e.O()}]);