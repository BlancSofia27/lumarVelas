{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 103, "column": 0}, "map": {"version":3,"sources":["turbopack://[project]/app/api/mercadopago/pagos/route.js"],"sourcesContent":["import { Payment } from \"mercadopago\";\r\nimport { revalidatePath } from \"next/cache\";\r\n\r\nimport api, { mercadopago } from \"../../../../api\";\r\n\r\nexport async function POST(request) {\r\n  try {\r\n    const body = await request.json();\r\n\r\n    if (!body?.data?.id) {\r\n      return new Response(\"ID no proporcionado en el cuerpo de la solicitud\", { status: 400 });\r\n    }\r\n\r\n    const payment = await new Payment(mercadopago).get({ id: body.data.id });\r\n\r\n    if (payment.status === \"approved\") {\r\n      await api.message.add({ id: payment.id, text: payment.metadata.text });\r\n      revalidatePath(\"/\");\r\n    }\r\n\r\n    return new Response(null, { status: 200 });\r\n  } catch (error) {\r\n    console.error(\"Error en el webhook:\", error);\r\n    return new Response(\"Error interno del servidor\", { status: 500 });\r\n  }\r\n}\r\n"],"names":[],"mappings":";;;AAAA;AACA;AAEA;;;;AAEO,eAAe,KAAK,OAAO;IAChC,IAAI;QACF,MAAM,OAAO,MAAM,QAAQ,IAAI;QAE/B,IAAI,CAAC,MAAM,MAAM,IAAI;YACnB,OAAO,IAAI,SAAS,oDAAoD;gBAAE,QAAQ;YAAI;QACxF;QAEA,MAAM,UAAU,MAAM,IAAI,8IAAA,CAAA,UAAO,CAAC,qGAAA,CAAA,cAAW,EAAE,GAAG,CAAC;YAAE,IAAI,KAAK,IAAI,CAAC,EAAE;QAAC;QAEtE,IAAI,QAAQ,MAAM,KAAK,YAAY;YACjC,MAAM,qGAAA,CAAA,UAAG,CAAC,OAAO,CAAC,GAAG,CAAC;gBAAE,IAAI,QAAQ,EAAE;gBAAE,MAAM,QAAQ,QAAQ,CAAC,IAAI;YAAC;YACpE,CAAA,GAAA,+HAAA,CAAA,iBAAc,AAAD,EAAE;QACjB;QAEA,OAAO,IAAI,SAAS,MAAM;YAAE,QAAQ;QAAI;IAC1C,EAAE,OAAO,OAAO;QACd,QAAQ,KAAK,CAAC,wBAAwB;QACtC,OAAO,IAAI,SAAS,8BAA8B;YAAE,QAAQ;QAAI;IAClE;AACF"}},
    {"offset": {"line": 140, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}}]
}