(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[992],{6858:(e,t,a)=>{Promise.resolve().then(a.bind(a,8067))},8067:(e,t,a)=>{"use strict";a.d(t,{default:()=>c});var l=a(7437),s=a(2265),r=a(7880),o=a(6648),i=a(4379),n=a.n(i);let c=()=>{let[e,t]=(0,s.useState)(""),[a,i]=(0,s.useState)(""),[c,d]=(0,s.useState)(""),[u,m]=(0,s.useState)(""),[g,x]=(0,s.useState)(null),[h,p]=(0,s.useState)(null),[f,b]=(0,s.useState)(!1),[j,N]=(0,s.useState)(""),[v,y]=(0,s.useState)(null),[w,I]=(0,s.useState)(null),[C,S]=(0,s.useState)(1),O=async(e,t)=>{try{let{data:a,error:l}=await r.O.storage.from(t).upload("".concat(Date.now(),"-").concat(e.name),e);if(l)throw console.error("Error al subir la imagen:",l),l;let s=r.O.storage.from("products").getPublicUrl(a.path);return y(s.publicURL),s.data.publicUrl}catch(e){throw console.error("Error al obtener la URL p\xfablica:",e),e}},k=async l=>{if(l.preventDefault(),!e||!a||!u||!g||!h){N("Por favor completa todos los campos.");return}b(!0),N("");try{let l=await O(g,"products"),s=await O(h,"products");y(l),I(s),console.log({name:e,fragance:a,description:c,price:u,imageUrl:l,image1Url:s});let{error:o}=await r.O.from("products").insert([{name:e,fragance:a,description:c,price:u,intensity:C,image_url:l,image1_url:s}]);if(o)throw o;t(""),i(""),d(""),m(""),x(null),p(null),S(1),n().fire({title:"\xa1Producto creado con \xe9xito!",text:"El producto ha sido agregado correctamente.",icon:"success",confirmButtonText:"Aceptar"})}catch(e){N("Error al crear el producto: "+e.message)}finally{b(!1)}};return(0,l.jsxs)("div",{className:"max-w-lg mx-auto p-6 bg-white border rounded-lg shadow-md",children:[(0,l.jsx)("h2",{className:"text-2xl font-semibold mb-4",children:"Crear Producto"}),j&&(0,l.jsx)("p",{className:"text-red-500 mb-4",children:j}),(0,l.jsxs)("form",{onSubmit:k,children:[(0,l.jsxs)("div",{className:"mb-4",children:[(0,l.jsx)("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-700",children:"Nombre del Producto"}),(0,l.jsx)("input",{type:"text",id:"name",className:"w-full px-4 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-indigo-500",value:e,onChange:e=>t(e.target.value)})]}),(0,l.jsxs)("div",{className:"mb-4",children:[(0,l.jsx)("label",{htmlFor:"fragance",className:"block text-sm font-medium text-gray-700",children:"Fragancia"}),(0,l.jsx)("input",{type:"text",id:"fragance",className:"w-full px-4 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-indigo-500",value:a,onChange:e=>i(e.target.value)})]}),(0,l.jsxs)("div",{className:"mb-4",children:[(0,l.jsx)("label",{htmlFor:"description",className:"block text-sm font-medium text-gray-700",children:"Descripci\xf3n"}),(0,l.jsx)("textarea",{id:"description",className:"w-full px-4 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-indigo-500",value:c,onChange:e=>d(e.target.value)})]}),(0,l.jsxs)("div",{className:"mb-4",children:[(0,l.jsx)("label",{htmlFor:"price",className:"block text-sm font-medium text-gray-700",children:"Precio"}),(0,l.jsx)("input",{type:"number",id:"price",className:"w-full px-4 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-indigo-500",value:u,onChange:e=>m(e.target.value)})]}),(0,l.jsxs)("div",{className:"mb-4",children:[(0,l.jsx)("label",{htmlFor:"intensity",className:"block text-sm font-medium text-gray-700",children:"Intensidad (1-5)"}),(0,l.jsxs)("select",{id:"intensity",className:"w-full px-4 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-indigo-500",value:C,onChange:e=>S(parseInt(e.target.value)),children:[(0,l.jsx)("option",{value:1,children:"1"}),(0,l.jsx)("option",{value:2,children:"2"}),(0,l.jsx)("option",{value:3,children:"3"}),(0,l.jsx)("option",{value:4,children:"4"}),(0,l.jsx)("option",{value:5,children:"5"})]})]}),(0,l.jsxs)("div",{className:"mb-4",children:[(0,l.jsx)("label",{htmlFor:"image",className:"block text-sm font-medium text-gray-700",children:"Imagen del Producto (Principal)"}),(0,l.jsx)("input",{type:"file",id:"image",className:"w-full px-4 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-indigo-500",onChange:e=>{let t=e.target.files[0];t&&x(t)}})]}),(0,l.jsxs)("div",{className:"mb-4",children:[(0,l.jsx)("label",{htmlFor:"image1",className:"block text-sm font-medium text-gray-700",children:"Imagen del Producto (Secundaria)"}),(0,l.jsx)("input",{type:"file",id:"image1",className:"w-full px-4 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-indigo-500",onChange:e=>{let t=e.target.files[0];t&&p(t)}})]}),(0,l.jsx)("button",{type:"submit",className:"w-full px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700",disabled:f,children:f?"Cargando...":"Crear Producto"})]}),v&&w&&(0,l.jsxs)("div",{className:"mt-4",children:[(0,l.jsx)("h3",{className:"text-lg font-semibold",children:"Im\xe1genes cargadas:"}),(0,l.jsxs)("div",{className:"flex space-x-4",children:[(0,l.jsx)(o.default,{src:v,width:100,height:100,alt:"Imagen del producto principal",className:"w-32 h-32 object-cover"}),(0,l.jsx)(o.default,{src:w,width:100,height:100,alt:"Imagen del producto secundaria",className:"w-32 h-32 object-cover"})]})]})]})}},7880:(e,t,a)=>{"use strict";a.d(t,{O:()=>o});var l=a(4593);let s="https://hngtcilvtlfttimesspf.supabase.co",r="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImhuZ3RjaWx2dGxmdHRpbWVzc3BmIiwicm9sZSI6ImFub24iLCJpYXQiOjE3MzUzMDIyODgsImV4cCI6MjA1MDg3ODI4OH0.QI4AB25s9Uc5t1Oc4C9Lgo0R6n9LmbkNXOfJ4Jfh2gg";if(!s||!r)throw Error("Supabase URL and Key are required");let o=(0,l.eI)(s,r)}},e=>{var t=t=>e(e.s=t);e.O(0,[461,648,593,130,215,744],()=>t(6858)),_N_E=e.O()}]);